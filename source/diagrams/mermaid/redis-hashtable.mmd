graph TB
    subgraph dict ["dict 字典结构"]
        dictType["dictType<br/>类型特定函数"]
        rehashidx["rehashidx = -1<br/>未在rehash中"]
        
        subgraph ht0 ["ht[0] - 主哈希表"]
            ht0_table["table 指针数组"]
            ht0_size["size = 8"]
            ht0_used["used = 5"]
            
            subgraph ht0_array ["哈希表数组"]
                idx0["[0] NULL"]
                idx1["[1] → entry"]
                idx2["[2] → entry"]
                idx3["[3] NULL"]
                idx4["[4] → entry → entry"]
                idx5["[5] NULL"]
                idx6["[6] → entry"]
                idx7["[7] → entry"]
            end
        end
        
        subgraph ht1 ["ht[1] - Rehash用"]
            ht1_table["table = NULL<br/>未使用"]
        end
    end
    
    subgraph entries ["dictEntry 节点详情 - 拉链法"]
        entry1["dictEntry<br/>----<br/>key: 'name'<br/>value: 'iPhone'<br/>next: NULL"]
        
        entry2["dictEntry<br/>----<br/>key: 'price'<br/>value: '5999'<br/>next: →"]
        
        entry3["dictEntry<br/>----<br/>key: 'stock'<br/>value: '100'<br/>next: NULL"]
    end
    
    idx1 -.-> entry1
    idx4 -.-> entry2
    entry2 --> entry3
    
    classDef dictStyle fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef htStyle fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef entryStyle fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    classDef nullStyle fill:#f5f5f5,stroke:#9e9e9e,stroke-width:1px,stroke-dasharray: 5 5
    
    class dict,dictType,rehashidx dictStyle
    class ht0,ht1,ht0_table,ht0_size,ht0_used,ht1_table htStyle
    class entry1,entry2,entry3 entryStyle
    class idx0,idx3,idx5 nullStyle

