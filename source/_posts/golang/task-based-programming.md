---
title: golang 基于task编程模式
categories:
- Golang
---

  在复杂的业务逻辑中，一个业务逻辑或者说一个接口通常包含许多子逻辑，为了使得业务代码比较清晰，以前常使用责任链的设计模式，最近发现有些代码中使用基于task的编程方式使得代码很清晰。这里简单记录下这种编程方式的特点和实现方式。
    
主要特点：
    1. 将一个复杂的任务分解成多个任务，任务之间支持串行和并行
    2. Task执行的顺序独立
    3. Task保存Session，使得数据能够灵活共享，协程安全
    

保持每个业务代码Task原子性，独立性——请求及回应处理应该作为一个整体兼容众多异步/同步调用方式（Promise/Future，taf callBack，asyncHttpCallBack）Task执行的顺序独立灵活Task保存Session，使得数据能够灵活共享，线程安全
