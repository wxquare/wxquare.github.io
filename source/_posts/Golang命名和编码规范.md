---
title: Golang命名和编码规范(整理)
---

# 1.命名 #

- **服务名**:建议使用动名词短语比如FeedsAdPlayerServer、KbAdReportServer、KbAdScoreServer等
- **目录与包名**：包名与目录名相同，包名应该为小写单词，不要使用下划线或者混合大小写，建议使用比较短的名词短语，例如l5、util、log、kafka、ppMonitor、dao、wsd等
- **文件名和类名**：有意义的名词短语或者动名词短语，如果文件中中定义的是一个结构体（类），尽量使文件名和类名保持一致，例如KafkaConsumer.go、KafkaConfig.go、WsdReporter.go、FlowControlCache.go、CptTdwReportTask.cpp、NewsDao.h  
- **函数名**：有意义的动词+名词短语，例如GetXxxx()、GetXxxxByXxxx()、SetXxxx()、PullXxxx()、CheckXxxx()、BuildXxxx()、ReportXxxx()等，根据函数在其它包的可见性决定使用大写字母或者小写字母开头

变量名，由于类名和函数名多为大写字母开头，建议变量名在满足可见性的要求下，尽可能使用小写字母开头   
- **全局变量名**：驼峰式，结合是否可导出确定首字母大小写  
- **局部变量名**：驼峰式，小写字母开头  
- **参数传递**：驼峰式，小写字母开头  
- **常量**：采用下划线连接的全大写的名字短语

# 2.import #
- 对import的包进行分组管理，分别为标准库、程序内部包、第三方包
- 项目中不要使用相对路径引入包，而使用绝对路径   

# 3.函数参数传递 #
- 参数名使用小写开头
- 少量数据使用对象，对于大量数据的struct使用指针
- 传入参数是map、slice和chan不要传递指针，因为map、slice和chan是引用类型，不需要传递指针

# 4.错误处理 #
- 函数返回error是好习惯，使用多返回值 error， 不要使用 c 风格，返回错误码
- 调用函数时，必须首先对函数可能的错误进行处理
- 尽早判断和处理错误
- 尽量不要使用panic，只有在文件无法打开，数据库无法连接导致程序无法正常运行等特殊情况才考虑使用panic。


# 5.代码格式化和分析工具 #
- gofmt
- goimports
- godoc
- go vet（静态分析一些明显的错误）
 
# 6.注释 # 
  除了标注某些变量的含义，注释尽可能使用完整的句子       
- 包注释  
- 文件注释:包含作者，创建时间和简单功能描述   
- 关键类和对象注释  
- 关键函数注释  
- 关键变量含义注释  


# 7.其它约定（待补充）#
- 文件长度最好不要超过500行，每行最好不超过80字符
- 多返回值最多返回三个，超过三个请使用 struct
- golang的内置类型slice，map，chan都是引用，初次使用前，必须先用make分配好对象，不然会有空指针异常
- 尽量少用命名多返回值，如果要用，必须显示 return结果

