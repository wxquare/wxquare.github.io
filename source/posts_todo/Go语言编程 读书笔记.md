#《Golang编程 读书笔记》#

## 绪论 ##
**golang特点、优点：**

1.更加方面的并发编程
  从语言层面支持协程，编写并发程序简单；并发模型上（共享内存和消息传递），golang内置消息队列（channel），推崇消息传递模型。

2.软件工程方向所做的工作，代码风格相对统一，工程目录结构，错误处理方式相对统一。

3.golang编程哲学，融合众多语言的特点（支持oop、类、类成员、类成员函数、支持类的组合而不支持类的继承、支持匿名函数和包；放弃构造函数、析构函数、虚函数；支持接口类型，非侵入式的接口）


## 第一章 ##

1.2009年，以Ken.Thompsonwei为首设计和实现，谷歌开源。
语言特性（静态强类型）
1. 自动垃圾回收（c++忘记或多次释放堆内存，“野指针”问题，智能指针）
1. 内置类型（简单类型、高级类型（数组、字符串、字典类型map、数组切片（slice））
1. 自定义类型和接口（struct、接口相对松散）
1. 函数多返回值（这个厉害，可使用占位符）
1. 错误处理的规范（defer、panic和recover）
1. 匿名函数和闭包
1. 并发编程（协程、消息传递模型、channel、协程是如何调度的？？）
1. 反射？？（帮助快速获取对象的类型）
1. 语言与其它语言的交互性（Cgo）
1. 工程管理（目录结构、build、test、GDB调试）


2.Golang开发环境


实战一：实现一个简单的计算器功能呢，熟悉Golang的语法和工程管理、编译和调试过程？？？


## 第二章顺序编程 ##

1. 变量（声明、初始化、声明和初始化、支持多重赋值和匿名变量），由于Golang存在右值类型推导，使得有点类似动态动态语言，然而Golang是非常严格的静态强类型语言
2. 常量（const、itoa）、枚举
3. 类型（不同类型）
- bool类型只支持true和false，不支持0和1
- 整数类型（不同类型的整型数不同相互比较、运算）
- 浮点数（float32、float64，小数会被自动推到成float6、浮点数的比较）
- 字符串string是内置的基本类型，一旦初始化后不允许修改，当字符创中包含非ANSI的字符时，注意将源码的编码格式设置为UTF-8
- 字符类型byte
- 数组类型（固定长度；注意Golang中的数组是值类型，这意味着传参需要复制产生副本）
- 数组切片slice(动态变长数组，相当于vector，注意它的创建方式make)
- map类型（注意Golang中map是未排序的，而C++中的map是排序的；创建、赋值、删除、查找）


###流程控制：###
1. 条件语句，在有返回值的函数中，不允许将return语句包含在if...else...结构中。
2. 选择语句，在switch...case...结构中，不需要用break来明确退出一个case
3. 循环语句，不支持while和do..while结构,和循环相关结构全部使用for结构代替，包括“无限循环”等
4. Golang支持goto跳转结构

###函数：###
1. 函数的定义，"func 函数名（参数）（返回值）",相邻参数类型相同，可以合并
2. 函数名称的大小写，Golang中大写字母开头的函数能被其它包调用，小写字母开头的函数只能在本包内可见
3. Golang支持不定参数，同种类型的不定参数（args ...int）,任意类型的不定参数（args ...interface{}）
4. 函数多返回值，返回值可以命名也可以不命名，命名返回值会使得代码更加清晰
5. Golang支持随时在代码中定义匿名函数
6. Golang中的闭包，暂时不太理解其实际用途？？？？

###错误处理规范：###
1. error接口，nil，返回错误类型
2. 怎么自定义错误类型？？实现error接口，error接口只包含一个Error方法
3. defer错误，异常的延迟处理
4. panic和recover函数


***实战二***：实现排序算法，熟悉Golang中的类型、变量、流程逻辑、函数和错误处理规范


##第三章 Golang的面向对象特性##

1. Golang类型基于值传递，通过type关键字自定义类型，为类型添加方法
2. 深入理解值语义和引用语义，注意Golang中数组属于值语义
3. Golang放弃class和继承等大量面向对象的特性，只保留了struct和组合等基础特性
4. Golang中的面向对象在语言层面表现为结构体类型struct和类型的成员方法
5. 没有构造函数，通常由全局创建函数NewXXX来完成对象的构建
6. 对象的构造和初始化
7. Golang放弃了类的继承，支持类的组合方法
8. Golang中没有public、private等关键字，通过控制变量或者函数名称的大小写来控制可见性。Golang的可见性是包级别的，而不是类型级别的。
9. **Gloang的接口interface是类型系统的基石**
10. 侵入式的接口和非侵入式的接口，Golang非侵入式接口的优势。可以现有类型，再定义接口。一个类只需要实现接口所要求的所有函数，我们就说这个类实现了该接口
11. 接口赋值（对象实例给接口赋值，接口给接口赋值）
11. 接口查询，判断某一对象是否实现某个接口
11. Golang支持类型查询，后面也可利用反射功能进行类型查询
11. Golang支持多种接口的组合
11. Any类型与空接口，interface{}

***实战三***：熟悉Golang的面向对象的特性，设计并实现一个简单的播放器功能。


##第四章 Golang的并发编程##
**基于goroutine协程加channel的消息传递模型**

1. once类型，保证全局唯一一次性操作，处理某些函数只需要执行一次的情况
2. 互斥锁和读写锁；结合defer的经典锁使用模式
2. channel用于goroutine之间进行消息传递和数据数据共享；
3. channel是类型相关的，channel在定义的时候必须指明类型，一个channel只能传递一种类型的值
4. 多个同类型的channel构成channel数组
5. channel类似管道，分为数据的读和写，没有数据时，读操作会被阻塞，反之有数据时，写操作会被阻塞
6. channel的声明、定义与基本类型相似，在类型之前增加channel
7. channel的缓冲机制
8. channel的超时机制，避免永久死锁，select加超时等待goroutine
9. channel关闭和关闭的判断
10. Golang并发编程原则：协程同步优先考虑使用基于channel的消息通信机制完成，之后再考虑锁机制


实战四：棋牌游戏服务器样例代码



























